@model FuncionarioViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
img {
    border-radius: 100%;
    object-fit: cover;
    width: 100px;
    height: 100px
}
</style>
<h2>Cadastro de Funcionário</h2>
<div class="row">
    <div class="col-md-4">
        <form asp-action="Save" enctype="multipart/form-data">
            <input type="hidden" name="Operacao" value="@ViewBag.Operacao" />
            @if (string.IsNullOrEmpty(Model.FotoEmBase64))
            {
                <img id="imgPreview" src="/images/user_icon.png" class="img-responsive" width="100">
            } else
            {
                <img id="imgPreview" src="data:image/jpeg;base64,@Model.FotoEmBase64" class="img-responsive" width="100">
            }
            <br />
            <label for="Id" class="control-label">ID</label>
            <input asp-for="Id" class="form-control" readonly/>
            <span asp-validation-for="Id" class="text-danger"></span>
            <br />
            <label for="Nome" class="control-label">Nome</label>
            <input asp-for="Nome" class="form-control" />
            <span asp-validation-for="Nome" class="text-danger"></span>
            <br />
            <label for="Idade" class="control-label">Idade</label>
            <input asp-for="Idade" class="form-control" />
            <span asp-validation-for="Idade" class="text-danger"></span>
            <br />
            <label for="Cargo" class="control-label">Cargo</label>
            <input asp-for="Cargo" class="form-control" />
            <span asp-validation-for="Cargo" class="text-danger"></span>
            <br />
            <input type="file" name="Foto" id="Foto" onchange="exibirImagem()" class="btn btn-secondary">
            <span asp-validation-for="Foto" class="text-danger"></span>
            <br />
            <input class="btn btn-primary" type="submit" value="Salvar dados" />
            <br />
            <span class="text-danger">@ViewBag.Erro</span>
        </form>
    </div>
</div>
<script>
     function exibirImagem() {
     var oFReader = new FileReader();
     oFReader.readAsDataURL(document.getElementById("Foto").files[0]);
     oFReader.onload = function (oFREvent) {
     document.getElementById("imgPreview").src = oFREvent.target.result;
     };
     }
</script>
